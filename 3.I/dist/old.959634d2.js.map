{"version":3,"sources":["old.js"],"names":["User","_password","prototype","checkGoogleLogin","token","_googleToken","setGoogleToken","getFacebookLogin","_facebookToken","setFacebookToken","checkPassword","password","resetPassword","prompt","Admin","GoogleBot","passwordElement","document","querySelector","typePasswordElement","typeGoogleElement","typeFacebookElement","loginAsAdminElement","resetPasswordElement","guest","admin","bot","addEventListener","event","preventDefault","user","checked","auth","value","alert"],"mappings":"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","file":"old.959634d2.js","sourceRoot":"..","sourcesContent":["\"use strict\";\r\nvar User = /** @class */ (function () {\r\n    function User() {\r\n        this._password = 'user';\r\n    }\r\n    //Interesting detail here: while I did not define a return type or param type, any deviation from the interface will give you an error.\r\n    // Test it out by uncommenting the code below.\r\n    User.prototype.checkGoogleLogin = function (token) {\r\n        // return \"this will not work\";\r\n        return (token === this._googleToken);\r\n    };\r\n    User.prototype.setGoogleToken = function (token) {\r\n        this._googleToken = token;\r\n    };\r\n    User.prototype.getFacebookLogin = function (token) {\r\n        return (token === this._facebookToken);\r\n    };\r\n    User.prototype.setFacebookToken = function (token) {\r\n        this._facebookToken = token;\r\n    };\r\n    User.prototype.checkPassword = function (password) {\r\n        return (password === this._password);\r\n    };\r\n    User.prototype.resetPassword = function () {\r\n        this._password = prompt('What is your new password?');\r\n    };\r\n    return User;\r\n}());\r\n//admin cannot use google or facebook token\r\nvar Admin = /** @class */ (function () {\r\n    function Admin() {\r\n        this._password = 'admin';\r\n    }\r\n    Admin.prototype.checkPassword = function (password) {\r\n        return (password === this._password);\r\n    };\r\n    Admin.prototype.resetPassword = function () {\r\n        this._password = prompt('What is your new password?');\r\n    };\r\n    return Admin;\r\n}());\r\nvar GoogleBot = /** @class */ (function () {\r\n    function GoogleBot() {\r\n    }\r\n    GoogleBot.prototype.checkGoogleLogin = function (token) {\r\n        // return \"this will not work\";\r\n        return (token === this._googleToken);\r\n    };\r\n    GoogleBot.prototype.setGoogleToken = function (token) {\r\n        this._googleToken = token;\r\n    };\r\n    return GoogleBot;\r\n}());\r\nvar passwordElement = document.querySelector('#password');\r\nvar typePasswordElement = document.querySelector('#typePassword');\r\nvar typeGoogleElement = document.querySelector('#typeGoogle');\r\nvar typeFacebookElement = document.querySelector('#typeFacebook');\r\nvar loginAsAdminElement = document.querySelector('#loginAsAdmin');\r\nvar resetPasswordElement = document.querySelector('#resetPassword');\r\nvar guest = new User();\r\nvar admin = new Admin();\r\nvar bot = new GoogleBot();\r\ndocument.querySelector('#login-form').addEventListener('submit', function (event) {\r\n    event.preventDefault();\r\n    var user = loginAsAdminElement.checked ? admin : guest;\r\n    if (!loginAsAdminElement.checked) {\r\n        user.setGoogleToken('secret_token_google');\r\n        user.setFacebookToken('secret_token_fb');\r\n    }\r\n    debugger;\r\n    var auth = false;\r\n    switch (true) {\r\n        case typePasswordElement.checked:\r\n            auth = user.checkPassword(passwordElement.value);\r\n            break;\r\n        case typeGoogleElement.checked:\r\n            auth = user.checkGoogleLogin('secret_token_google');\r\n            break;\r\n        case typeFacebookElement.checked:\r\n            debugger;\r\n            auth = user.getFacebookLogin('secret_token_fb');\r\n            break;\r\n    }\r\n    if (auth) {\r\n        alert('login success');\r\n    }\r\n    else {\r\n        alert('login failed');\r\n    }\r\n});\r\nresetPasswordElement.addEventListener('click', function (event) {\r\n    event.preventDefault();\r\n    var user = loginAsAdminElement.checked ? admin : guest;\r\n    user.resetPassword();\r\n});\r\n"]}